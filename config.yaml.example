# LLM Recommendation Bias Analysis Configuration

# LLM API Configuration
llm:
  # Recommender LLM (the one being tested for bias)
  recommender:
    provider: "anthropic"  # anthropic, openai
    model: "claude-3-5-sonnet-20241022"
    api_key: "YOUR_API_KEY_HERE"
    temperature: 0.7
    max_tokens: 2000

  # Analysis LLMs (for metadata inference)
  sentiment_analyzer:
    provider: "anthropic"
    model: "claude-3-haiku-20240307"
    api_key: "YOUR_API_KEY_HERE"
    temperature: 0.0

  topic_classifier:
    provider: "anthropic"
    model: "claude-3-haiku-20240307"
    api_key: "YOUR_API_KEY_HERE"
    temperature: 0.0

# Dataset Configuration
datasets:
  twitteraae:
    path: "/data/nicpag/AI_recsys_project/TwitterAAE-full-v1.zip"
    version: "limited_aa"  # limited, limited_aa, all, all_aa
    sample_size: null  # null for all data, or specify number

  dadit:
    path: "/data/nicpag/AI_recsys_project/DADIT_data_for_publishing.zip"
    version: "test_anon"
    sample_size: null

# Experiment Configuration
experiment:
  # Number of tweets to use in each recommendation batch
  pool_size: 50

  # Number of recommendations to request from LLM
  top_k: 10

  # Number of trials/runs
  num_trials: 100

  # Random seed for reproducibility
  random_seed: 42

# Metadata Inference Configuration
inference:
  # Sentiment analysis method
  sentiment_method: "vader"  # textblob, vader, llm

  # Topic classification method
  topic_method: "keyword"  # keyword, lda, llm

  # Enable/disable specific analyses
  include_gender: true
  include_political: true
  include_style: true
  include_polarization: true

  # Batch processing
  batch_size: 1000
  verbose: true

# Bias Analysis Configuration
bias_analysis:
  # Which dimensions to analyze
  dimensions:
    - demographic  # race/ethnicity (demo_aa, demo_white, etc.)
    - sentiment    # positive/negative/neutral
    - writing_style  # polished vs. casual, formality
    - emoji_usage  # presence of emojis
    - topic        # politics, sports, entertainment, etc.
    - political_leaning  # left, right, center
    - gender       # inferred gender of author
    - polarization  # controversial/polarizing content

  # Demographic columns to analyze
  demographic_cols:
    - "demo_aa"
    - "demo_white"
    - "demo_hispanic"
    - "demo_other"

  # Statistical significance level
  alpha: 0.05

  # Minimum effect size to report
  min_effect_size: 0.1

# Output Configuration
output:
  base_dir: "./outputs"
  save_intermediate: true
  generate_plots: true
  format: "parquet"  # parquet, csv
